{% extends 'base.html' %}

{% block title %}Dashboard - Road Complaint Portal{% endblock %}

{% block content %}
<h1>Admin Dashboard</h1>
<p>Manage complaints here.</p>

<div id="admin-complaints-list"></div>

<script>
    fetch('/api/complaints/')
        .then(response => response.json())
        .then(data => {
            let complaintsList = document.getElementById('admin-complaints-list');
            data.forEach(complaint => {
                let div = document.createElement('div');
                div.innerHTML = `<p><strong>${complaint.description}</strong> - ${complaint.location}</p>`;
                complaintsList.appendChild(div);
            });
        });
</script>
{% endblock %}
